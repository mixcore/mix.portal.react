<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mixcore Mini-App Template Demo</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .preview-frame {
      border: 1px solid #e2e8f0;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      height: 600px;
      width: 100%;
    }
    .code-tab {
      cursor: pointer;
      padding: 0.5rem 1rem;
      border-radius: 0.25rem 0.25rem 0 0;
      border: 1px solid #e2e8f0;
      border-bottom: none;
      margin-right: 0.25rem;
      background-color: #f7fafc;
    }
    .code-tab.active {
      background-color: #ebf4ff;
      border-color: #4299e1;
      color: #2b6cb0;
    }
    .code-panel {
      border: 1px solid #e2e8f0;
      border-radius: 0 0.25rem 0.25rem 0.25rem;
      padding: 1rem;
      background-color: #f7fafc;
      overflow: auto;
      height: 400px;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="container mx-auto px-4 py-8">
    <header class="mb-8 text-center">
      <img src="https://mixcore.org/wp-content/uploads/2023/05/mixcore-logo.png" alt="Mixcore Logo" class="h-12 mx-auto mb-4">
      <h1 class="text-3xl font-bold text-gray-800 mb-2">Mixcore Mini-App Template</h1>
      <p class="text-gray-600 max-w-2xl mx-auto">
        A comprehensive template for creating mini-apps for Mixcore CMS based on Next.js and React.
        This template provides a complete foundation for building integrated applications within the Mixcore ecosystem.
      </p>
    </header>

    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Interactive Demo</h2>
      <p class="text-gray-600 mb-4">
        This preview shows how the mini-app template looks and behaves when integrated with the Mixcore dashboard.
      </p>
      <div class="preview-container">
        <iframe 
          src="https://demo.mixcore.org/dashboard/apps/demo-mini-app" 
          class="preview-frame"
          title="Mixcore Mini-App Demo">
        </iframe>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Key Features</h2>
        <ul class="space-y-2 text-gray-700">
          <li class="flex items-start">
            <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong>Authentication System</strong>: Ready-to-use authentication with role-based access control</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong>Internationalization</strong>: Built-in localization with culture-aware formatting</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong>API Client</strong>: Type-safe MixDB API client with automatic auth and culture integration</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong>Dashboard Integration</strong>: Seamlessly integrates with the Mixcore dashboard</span>
          </li>
          <li class="flex items-start">
            <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong>Dark Mode Support</strong>: Works with both light and dark themes</span>
          </li>
        </ul>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Installation</h2>
        <div class="mb-4">
          <p class="text-gray-700 mb-2">Using npm:</p>
          <pre class="bg-gray-800 text-green-400 p-3 rounded overflow-x-auto">npm install @mixcore/mini-app-template</pre>
        </div>
        <div class="mb-4">
          <p class="text-gray-700 mb-2">Using the CLI:</p>
          <pre class="bg-gray-800 text-green-400 p-3 rounded overflow-x-auto">npx create-mixcore-mini-app my-app</pre>
        </div>
        <div>
          <p class="text-gray-700 mb-2">Direct from GitHub:</p>
          <pre class="bg-gray-800 text-green-400 p-3 rounded overflow-x-auto">git clone https://github.com/mixcore/mini-app-template.git</pre>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Code Examples</h2>
      <div class="code-examples">
        <div class="code-tabs flex mb-2">
          <div class="code-tab active" data-tab="auth">Authentication</div>
          <div class="code-tab" data-tab="i18n">Internationalization</div>
          <div class="code-tab" data-tab="api">API Client</div>
          <div class="code-tab" data-tab="core">Core Services</div>
        </div>
        <div class="code-panel" id="auth-panel">
          <pre class="language-typescript">
import { AuthService, createPermissionGuard, createRoleGuard } from '@mixcore/mini-app-template/lib';

// Initialize auth service
const auth = new AuthService({
  authEndpoint: '/api/auth',
  persistToken: true
});

// Login a user
const user = await auth.login('username', 'password');

// Check roles and permissions
if (auth.hasRole('Admin') && auth.hasPermission('products.edit')) {
  // Show admin features
}

// Create reusable guards
const canEditProducts = createPermissionGuard(auth, ['products.edit']);
const isAdminOrEditor = createRoleGuard(auth, ['Admin', 'Editor']);

// Use in components
if (canEditProducts()) {
  // Show edit UI
}
          </pre>
        </div>
        <div class="code-panel hidden" id="i18n-panel">
          <pre class="language-typescript">
import { CultureService, createTranslator } from '@mixcore/mini-app-template/lib';

// Initialize culture service
const culture = new CultureService({
  defaultCulture: 'en-US'
});

// Create translator
const t = createTranslator(culture);

// Translate text
const greeting = t('hello', 'Hello');
const welcome = t('welcome_user', 'Welcome, {name}!', { name: 'John' });

// Format based on culture
const date = culture.formatDate(new Date(), { dateStyle: 'full' });
const price = culture.formatCurrency(99.99, 'EUR');
          </pre>
        </div>
        <div class="code-panel hidden" id="api-panel">
          <pre class="language-typescript">
import { MixDbApi } from '@mixcore/mini-app-template/lib';

// Initialize API with auth and culture
const api = new MixDbApi({
  basePath: '/api/v2/mixdb',
  authService,
  cultureService
});

// Get data
const products = await api.getItems('product', {
  page: 1,
  pageSize: 10,
  filter: { status: 'Published' }
});

// Create item
const newProduct = await api.createItem('product', {
  name: 'New Product',
  price: 99.99
});

// Update item
await api.updateItem('product', newProduct.id, {
  price: 129.99
});
          </pre>
        </div>
        <div class="code-panel hidden" id="core-panel">
          <pre class="language-typescript">
import { initializeCoreServices } from '@mixcore/mini-app-template/lib';

// Initialize all services at once
const { api, auth, culture, translate } = initializeCoreServices({
  apiBasePath: '/api/v2/mixdb',
  defaultCulture: 'en-US',
  authEndpoint: '/api/auth'
});

// Use the services
const t = translate;

async function init() {
  // Login
  await auth.login('username', 'password');
  
  // Get data with automatic auth headers and culture
  const products = await api.getItems('product', { 
    page: 1, 
    pageSize: 10 
  });
  
  // Use translations
  console.log(t('found_items', 'Found {count} items', { 
    count: String(products.items.length) 
  }));
}
          </pre>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Resources</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <a href="https://github.com/mixcore/mix.portal.react/tree/main/src/templates/mini-app" 
           class="block p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition">
          <h3 class="font-medium mb-2">Source Code</h3>
          <p class="text-sm text-gray-600">Browse the mini-app template source code on GitHub</p>
        </a>
        <a href="https://www.npmjs.com/package/@mixcore/mini-app-template" 
           class="block p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition">
          <h3 class="font-medium mb-2">NPM Package</h3>
          <p class="text-sm text-gray-600">View the package on npm registry</p>
        </a>
        <a href="https://mixcore.org/docs/mini-apps" 
           class="block p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition">
          <h3 class="font-medium mb-2">Documentation</h3>
          <p class="text-sm text-gray-600">Read the full documentation</p>
        </a>
      </div>
    </div>
  </div>

  <footer class="bg-gray-800 text-white py-8 mt-8">
    <div class="container mx-auto px-4 text-center">
      <img src="https://mixcore.org/wp-content/uploads/2023/05/mixcore-logo-white.png" alt="Mixcore Logo" class="h-8 mx-auto mb-4">
      <p class="mb-2">Â© 2023 Mixcore. All rights reserved.</p>
      <div class="flex justify-center space-x-4">
        <a href="https://github.com/mixcore" class="text-gray-400 hover:text-white transition">GitHub</a>
        <a href="https://mixcore.org" class="text-gray-400 hover:text-white transition">Website</a>
        <a href="https://discord.gg/mixcore" class="text-gray-400 hover:text-white transition">Discord</a>
      </div>
    </div>
  </footer>

  <script>
    // Simple tab switching functionality
    document.addEventListener('DOMContentLoaded', function() {
      const tabs = document.querySelectorAll('.code-tab');
      const panels = document.querySelectorAll('.code-panel');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          
          // Remove active class from all tabs and hide all panels
          tabs.forEach(t => t.classList.remove('active'));
          panels.forEach(p => p.classList.add('hidden'));
          
          // Add active class to clicked tab and show corresponding panel
          this.classList.add('active');
          document.getElementById(`${tabId}-panel`).classList.remove('hidden');
        });
      });
    });
  </script>
</body>
</html> 